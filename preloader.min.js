!function(n){"use strict";var o=function(n){return"[object Array]"===toString.call(n)},e=function(n){return"function"==typeof n},r=function(n){return n===Object(n)},t=function(n,t){var c=!1,u=function(n){console&&console.log&&c&&console.log(n)};if(!n||!o(n)||0===n.length)return u("imgs is illegal."),void 0;t&&(e(t)||r(t))?e(t)&&(u("opts is function."),t={done:t}):(u("opts is illegal."),t={}),c=!!t.debug;for(var l=t.success&&e(t.success)?t.success:null,s=t.error&&e(t.error)?t.error:null,i=t.abort&&e(t.abort)?t.abort:null,a=t.done&&e(t.done)?t.done:null,f=t.complete&&e(t.complete)?t.complete:null,d=n.length,p=d,v=[],g=[],m=[],h={},b=function(n,o){if(void 0!==h[o])return h[o];for(var e=0;e<n.length;e++)if(n[e]===o)return h[o]=e,e;return-1},E=function(o,e){var r=b(n,o),t=b(n,e);return t>r?-1:r>t?1:0},y=function(n){var o=n.srcElement.src;v.push(o),u("load: "+o),l&&l(o),A(),O()},j=function(n){var o=n.srcElement.src;g.push(o),u("error: "+o),s&&s(o),A()},_=function(n){var o=n.srcElement.src;m.push(o),u("abort: "+o),i&&i(o),A()},A=function(){p--,0===p&&a&&(u("done."),a(v.concat().sort(E),g.concat().sort(E),m.concat().sort(E)))},O=function(){0===p&&v.length===d&&f&&(u("complete."),f(n.concat()))},S=[],k=0;k<n.length;k++){var q=document.createElement("img");q.onload=y,q.onerror=j,q.onabort=_,q.src=n[k],S.push(q)}};"function"==typeof define&&define.amd?define(t):n.ev_preload=t}(this);